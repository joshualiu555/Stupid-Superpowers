{"ast":null,"code":"var _jsxFileName = \"/Users/joshualiu/Desktop/test/client/src/components/Game.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"./Game.css\";\nimport Chat from \"./Chat\";\nimport Countdown from \"react-countdown\";\nimport initReactFastclick from \"react-fastclick\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ninitReactFastclick();\n\nfunction Game(_ref) {\n  _s();\n\n  let {\n    socket,\n    name,\n    code,\n    color,\n    visibility\n  } = _ref;\n  const [countdown, setCountdown] = useState(0);\n  const [restart, setRestart] = useState(0);\n  const [players, setPlayers] = useState([]);\n  const [round, setRound] = useState(\"lobby\");\n  const [situations, setSituations] = useState([]);\n  const [situationIndex, setSituationIndex] = useState(-1);\n  const [power, setPower] = useState(-1);\n  const [submittedPower, setSubmittedPower] = useState(false);\n  const [vote, setVote] = useState(-1);\n  const [submittedVote, setSubmittedVote] = useState(false);\n  const [scorers, setScorers] = useState([]);\n  const [winners, setWinners] = useState([]);\n  useEffect(() => {\n    socket.emit(\"addPlayer\", {\n      code: code,\n      name: name,\n      id: socket.id\n    });\n    socket.on(\"addedPlayer\", data => {\n      setPlayers(data.players);\n      setSituations(data.situations);\n\n      if (data.players.length === 4) {\n        restartCountdown(5);\n        setRound(\"start\");\n      }\n    });\n    socket.on(\"removedPlayer\", newPlayers => {\n      setPlayers(newPlayers);\n    });\n    socket.on(\"submittedPower\", newPlayers => {\n      const notSelected = newPlayers.findIndex(player => player.power === -1);\n\n      if (notSelected === -1) {\n        restartCountdown(30);\n        setRound(\"voting\");\n      }\n\n      setPlayers(newPlayers);\n    });\n    socket.on(\"submittedVote\", data => {\n      setPlayers(data.players);\n\n      if (data.scorers.length > 0) {\n        restartCountdown(10);\n        setRound(\"scoring\");\n        setScorers(data.scorers);\n      }\n    });\n    socket.on(\"newRound\", newPlayers => {\n      setPlayers(newPlayers);\n      setPower(-1);\n      setSubmittedPower(false);\n      setVote(-1);\n      setSubmittedVote(false);\n      setScorers([]);\n      setWinners([]);\n      startPlaying();\n    });\n    socket.on(\"winner\", data => {\n      setRound(\"winning\");\n      setPlayers(data.players);\n      setWinners(data.winners);\n    });\n    socket.on(\"disconnectGame\", () => {\n      setRound(\"disconnectGame\");\n    });\n  }, []);\n\n  const restartCountdown = time => {\n    setCountdown(Date.now() + time * 1000);\n    setRestart(Math.floor(Math.random() * 90000) + 10000);\n  };\n\n  const findPlayer = () => {\n    return players.findIndex(player => player.id === socket.id);\n  };\n\n  const findCards = () => {\n    const index = findPlayer();\n    return players[index].cards;\n  };\n\n  const renderer = _ref2 => {\n    let {\n      seconds\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: seconds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 16\n    }, this);\n  };\n\n  const startPlaying = () => {\n    restartCountdown(30);\n    setRound(\"playing\");\n    setSituationIndex(situationIndex + 1);\n  };\n\n  const submitPower = () => {\n    if (power !== -1) {\n      setSubmittedPower(true);\n      socket.emit(\"submitPower\", {\n        code: code,\n        id: socket.id,\n        power: power\n      });\n    }\n  };\n\n  const submitVote = () => {\n    if (vote !== -1) {\n      setSubmittedVote(true);\n      socket.emit(\"submitVote\", {\n        code: code,\n        id: socket.id,\n        vote: vote\n      });\n    }\n  };\n\n  const randomPower = () => {\n    if (round === \"playing\" && !submittedPower) {\n      setSubmittedPower(true);\n      const randomIndex = Math.floor(Math.random() * 5);\n      setPower(randomIndex);\n      socket.emit(\"submitPower\", {\n        code: code,\n        id: socket.id,\n        power: randomIndex\n      });\n    }\n  };\n\n  const randomVote = () => {\n    if (round === \"voting\" && !submittedVote) {\n      setSubmittedVote(true);\n      let randomIndex = Math.floor(Math.random() * players.length);\n\n      while (players[randomIndex].id === socket.id) {\n        randomIndex = Math.floor(Math.random() * players.length);\n      }\n\n      setVote(randomIndex);\n      socket.emit(\"submitVote\", {\n        code: code,\n        id: socket.id,\n        vote: players[randomIndex].id\n      });\n    }\n  };\n\n  const resetRound = () => {\n    socket.emit(\"resetRound\", code);\n  };\n\n  if (round === \"lobby\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Lobby\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"LobbyBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"You: \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"LobbyUserCount\",\n          children: [\"Waiting \", players.length, \" / 4 players\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"LobbyPlayerList\",\n            children: player.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Game Info: Code: \", code, \", Color: \", color, \", Visibility: \", visibility]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"If you're on a phone or tablet, tilt it to the side\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"I was too lazy to code a disconnect button. Just refresh!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"LobbyDisclaimer\",\n          children: \"Disclaimer: If you are playing a yellow game, you may be exposed to inappropriate content. Please leave if you don't want to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"start\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Start\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"StartMessage\",\n        children: \"Game Starting In...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"StartCountdown\",\n        children: /*#__PURE__*/_jsxDEV(Countdown, {\n          date: countdown,\n          renderer: renderer,\n          onComplete: startPlaying\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"playing\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Playing\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PlayingLayout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingCountdown\",\n          children: /*#__PURE__*/_jsxDEV(Countdown, {\n            date: countdown,\n            renderer: renderer,\n            onComplete: randomPower\n          }, restart, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingSituation\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: situations[situationIndex]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingGameInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Game Info: Code: \", code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Color: \", color]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Visibility: \", visibility]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingPlayerList\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [player.name, \" \", player.name === name ? \"(You)\" : \"\", \": \", player.score]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 61\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingPowers\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            children: findCards().map((card, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => setPower(index),\n              style: {\n                border: index === power ? \"5px solid red\" : \"\"\n              },\n              children: card\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitPower,\n            children: \"Submit Power\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PlayingChat\",\n          children: /*#__PURE__*/_jsxDEV(Chat, {\n            socket: socket,\n            code: code,\n            color: color,\n            name: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"voting\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Voting\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"VotingLayout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingCountdown\",\n          children: /*#__PURE__*/_jsxDEV(Countdown, {\n            date: countdown,\n            renderer: renderer,\n            onComplete: randomVote\n          }, restart, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingSituation\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: situations[situationIndex]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingGameInfo\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Game Info: Code: \", code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Color: \", color]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Visibility: \", visibility]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingPlayerList\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [player.name, \" \", player.name === name ? \"(You)\" : \"\", \": \", player.score]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 61\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingPowers\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Your Power: \", players[findPlayer()].cards[power]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: players.map((player, index) => player.id !== socket.id ? /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => setVote(player.id),\n              style: {\n                border: player.id === vote ? \"5px solid red\" : \"\"\n              },\n              children: player.cards[player.power]\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 37\n            }, this) : undefined)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitVote,\n            children: \"Submit Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"VotingChat\",\n          children: /*#__PURE__*/_jsxDEV(Chat, {\n            socket: socket,\n            code: code,\n            color: color,\n            name: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"scoring\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Scoring\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ScoringBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ScoringCountdown\",\n          children: /*#__PURE__*/_jsxDEV(Countdown, {\n            date: countdown,\n            renderer: renderer,\n            onComplete: resetRound\n          }, restart, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"You: \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Winners\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: scorers.map((winner, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: winner\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"All Plays\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [player.name, \": \", player.cards[player.power]]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Scoreboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [player.name, \": \", player.score]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"disconnectGame\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Disconnecting\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"DisconnectingBox\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Too many players have disconnected. Please refresh to go back to the homepage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this);\n  } else if (round === \"winning\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Winning\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"WinningBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"All Plays\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [player.name, \": \", player.cards[player.power]]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Scoreboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: players.map((player, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [player.name, \": \", player.score]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"The game has ended. Here are the winners!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: winners.map((winner, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: winner\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 57\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Please refresh to go back to the homepage. \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(Game, \"Ez6NB2WDC/amCTAe2DSDOsY+i3E=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["React","useState","useEffect","Chat","Countdown","initReactFastclick","Game","socket","name","code","color","visibility","countdown","setCountdown","restart","setRestart","players","setPlayers","round","setRound","situations","setSituations","situationIndex","setSituationIndex","power","setPower","submittedPower","setSubmittedPower","vote","setVote","submittedVote","setSubmittedVote","scorers","setScorers","winners","setWinners","emit","id","on","data","length","restartCountdown","newPlayers","notSelected","findIndex","player","startPlaying","time","Date","now","Math","floor","random","findPlayer","findCards","index","cards","renderer","seconds","submitPower","submitVote","randomPower","randomIndex","randomVote","resetRound","map","score","card","border","undefined","winner"],"sources":["/Users/joshualiu/Desktop/test/client/src/components/Game.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport \"./Game.css\"\nimport Chat from \"./Chat\"\nimport Countdown from \"react-countdown\"\nimport initReactFastclick from \"react-fastclick\"\ninitReactFastclick();\n\nfunction Game({socket, name, code, color, visibility}) {\n    const [countdown, setCountdown] = useState(0)\n    const [restart, setRestart] = useState(0)\n    const [players, setPlayers] = useState([])\n    const [round, setRound] = useState(\"lobby\")\n    const [situations, setSituations] = useState([])\n    const [situationIndex, setSituationIndex] = useState(-1)\n    const [power, setPower] = useState(-1)\n    const [submittedPower, setSubmittedPower] = useState(false)\n    const [vote, setVote] = useState(-1)\n    const [submittedVote, setSubmittedVote] = useState(false)\n    const [scorers, setScorers] = useState([])\n    const [winners, setWinners] = useState([])\n\n    useEffect(() => {\n        socket.emit(\"addPlayer\", {code: code, name: name, id: socket.id})\n        socket.on(\"addedPlayer\", data => {\n            setPlayers(data.players)\n            setSituations(data.situations)\n            if (data.players.length === 4) {\n                restartCountdown(5)\n                setRound(\"start\")\n            }\n        })\n        socket.on(\"removedPlayer\", newPlayers => {\n            setPlayers(newPlayers)\n        })\n        socket.on(\"submittedPower\", newPlayers => {\n            const notSelected = newPlayers.findIndex(player => player.power === -1)\n            if (notSelected === -1) {\n                restartCountdown(30)\n                setRound(\"voting\")\n            }\n            setPlayers(newPlayers)\n        })\n        socket.on(\"submittedVote\", data => {\n            setPlayers(data.players)\n            if (data.scorers.length > 0) {\n                restartCountdown(10)\n                setRound(\"scoring\")\n                setScorers(data.scorers)\n\n            }\n        })\n        socket.on(\"newRound\", newPlayers => {\n            setPlayers(newPlayers)\n            setPower(-1)\n            setSubmittedPower(false)\n            setVote(-1)\n            setSubmittedVote(false)\n            setScorers([])\n            setWinners([])\n            startPlaying()\n        })\n        socket.on(\"winner\", data => {\n            setRound(\"winning\")\n            setPlayers(data.players)\n            setWinners(data.winners)\n        })\n        socket.on(\"disconnectGame\", () => {\n            setRound(\"disconnectGame\")\n        })\n    }, [])\n\n    const restartCountdown = time => {\n        setCountdown(Date.now() + time * 1000)\n        setRestart(Math.floor(Math.random() * 90000) + 10000)\n    }\n\n    const findPlayer = () => {\n        return players.findIndex(player => player.id === socket.id)\n    }\n\n    const findCards = () => {\n        const index = findPlayer()\n        return players[index].cards\n    }\n\n    const renderer = ({seconds}) => {\n        return <p>{seconds}</p>\n    }\n\n    const startPlaying = () => {\n        restartCountdown(30)\n        setRound(\"playing\")\n        setSituationIndex(situationIndex + 1)\n    }\n\n    const submitPower = () => {\n        if (power !== -1)  {\n            setSubmittedPower(true)\n            socket.emit(\"submitPower\", {code: code, id: socket.id, power: power})\n        }\n    }\n\n    const submitVote = () => {\n        if (vote !== -1) {\n            setSubmittedVote(true)\n            socket.emit(\"submitVote\", {code: code, id: socket.id, vote: vote})\n        }\n    }\n\n    const randomPower = () => {\n        if (round === \"playing\" && !submittedPower) {\n            setSubmittedPower(true)\n            const randomIndex = Math.floor(Math.random() * 5)\n            setPower(randomIndex)\n            socket.emit(\"submitPower\", {code: code, id: socket.id, power: randomIndex})\n        }\n    }\n\n    const randomVote = () => {\n        if (round === \"voting\" && !submittedVote) {\n            setSubmittedVote(true)\n            let randomIndex = Math.floor(Math.random() * players.length)\n            while (players[randomIndex].id === socket.id) {\n                randomIndex = Math.floor(Math.random() * players.length)\n            }\n            setVote(randomIndex)\n            socket.emit(\"submitVote\", {code: code, id: socket.id, vote: players[randomIndex].id})\n        }\n    }\n\n    const resetRound = () => {\n        socket.emit(\"resetRound\", code)\n    }\n\n    if (round === \"lobby\") {\n        return (\n            <div className={\"Lobby\"}>\n                <div className={\"LobbyBox\"}>\n                    <h1>You: {name}</h1>\n                    <h2 className={\"LobbyUserCount\"}>Waiting {players.length} / 4 players</h2>\n                    <ul>\n                        {players.map((player, index) => <li className={\"LobbyPlayerList\"} key={index}>{player.name}</li>)}\n                    </ul>\n                    <p>Game Info: Code: {code}, Color: {color}, Visibility: {visibility}</p>\n                    <p>If you're on a phone or tablet, tilt it to the side</p>\n                    <p>I was too lazy to code a disconnect button. Just refresh!</p>\n                    <p className={\"LobbyDisclaimer\"}>Disclaimer: If you are playing a yellow game, you may be exposed to inappropriate content. Please leave if you don't want to continue</p>\n                </div>\n            </div>\n        )\n    } else if (round === \"start\") {\n        return (\n            <div className={\"Start\"}>\n                <h1 className={\"StartMessage\"}>Game Starting In...</h1>\n                <div className={\"StartCountdown\"}>\n                    <Countdown\n                        date={countdown}\n                        renderer={renderer}\n                        onComplete={startPlaying}\n                    />\n                </div>\n\n            </div>\n        )\n    } else if (round === \"playing\") {\n        return (\n            <div className={\"Playing\"}>\n                <div className={\"PlayingLayout\"}>\n                    <div className={\"PlayingCountdown\"}>\n                        <Countdown\n                            date={countdown}\n                            key={restart}\n                            renderer={renderer}\n                            onComplete={randomPower}\n                        />\n                    </div>\n                    <div className={\"PlayingSituation\"}>\n                        <p>{situations[situationIndex]}</p>\n                    </div>\n                    <div className={\"PlayingGameInfo\"}>\n                        <p>Game Info: Code: {code}</p>\n                        <p>Color: {color}</p>\n                        <p>Visibility: {visibility}</p>\n                    </div>\n                    <div className={\"PlayingPlayerList\"}>\n                        <ul>\n                            {players.map((player, index) => <li key={index}>{player.name} {player.name === name ? \"(You)\" : \"\"}: {player.score}</li>)}\n                        </ul>\n                    </div>\n                    <div className={\"PlayingPowers\"}>\n                        <ul>\n                            {findCards().map((card, index) =>\n                                <li onClick={() => setPower(index)} style={{border: index === power ? \"5px solid red\" : \"\"}} key={index}>{card}</li>\n                            )}\n                        </ul>\n                        <button onClick={submitPower}>Submit Power</button>\n                    </div>\n                    <div className={\"PlayingChat\"}>\n                        <Chat socket={socket} code={code} color={color} name={name}/>\n                    </div>\n                </div>\n            </div>\n        )\n    } else if (round === \"voting\") {\n        return (\n            <div className={\"Voting\"}>\n                <div className={\"VotingLayout\"}>\n                    <div className={\"VotingCountdown\"}>\n                        <Countdown\n                            date={countdown}\n                            key={restart}\n                            renderer={renderer}\n                            onComplete={randomVote}\n                        />\n                    </div>\n                    <div className={\"VotingSituation\"}>\n                        <p>{situations[situationIndex]}</p>\n                    </div>\n                    <div className={\"VotingGameInfo\"}>\n                        <p>Game Info: Code: {code}</p>\n                        <p>Color: {color}</p>\n                        <p>Visibility: {visibility}</p>\n                    </div>\n                    <div className={\"VotingPlayerList\"}>\n                        <ul>\n                            {players.map((player, index) => <li key={index}>{player.name} {player.name === name ? \"(You)\" : \"\"}: {player.score}</li>)}\n                        </ul>\n                    </div>\n                    <div className={\"VotingPowers\"}>\n                        <p>Your Power: {players[findPlayer()].cards[power]}</p>\n                        <ul>\n                            {players.map((player, index) =>\n                                (player.id !== socket.id) ?\n                                    <li onClick={() => setVote(player.id)} style={{border: player.id === vote ? \"5px solid red\" : \"\"}} key={index}>{player.cards[player.power]}</li> :\n                                    undefined\n                            )}\n                        </ul>\n                        <button onClick={submitVote}>Submit Vote</button>\n                    </div>\n                    <div className={\"VotingChat\"}>\n                        <Chat socket={socket} code={code} color={color} name={name}/>\n                    </div>\n                </div>\n            </div>\n        )\n    } else if (round === \"scoring\") {\n        return (\n            <div className={\"Scoring\"}>\n                <div className={\"ScoringBox\"}>\n                    <div className={\"ScoringCountdown\"}>\n                        <Countdown\n                            date={countdown}\n                            key={restart}\n                            renderer={renderer}\n                            onComplete={resetRound}\n                        />\n                    </div>\n                    <h1>You: {name}</h1>\n                    <h2>Winners</h2>\n                    <ul>\n                        {scorers.map((winner, index) => <li key={index}>{winner}</li>)}\n                    </ul>\n                    <h2>All Plays</h2>\n                    <ul>\n                        {players.map((player, index) => <li key={index}>{player.name}: {player.cards[player.power]}</li>)}\n                    </ul>\n                    <h2>Scoreboard</h2>\n                    <ul>\n                        {players.map((player, index) => <li key={index}>{player.name}: {player.score}</li>)}\n                    </ul>\n                </div>\n            </div>\n        )\n    } else if (round === \"disconnectGame\") {\n        return (\n            <div className={\"Disconnecting\"}>\n                <div className={\"DisconnectingBox\"}>\n                    <p>Too many players have disconnected. Please refresh to go back to the homepage</p>\n                </div>\n            </div>\n        )\n    } else if (round === \"winning\") {\n        return (\n            <div className={\"Winning\"}>\n                <div className={\"WinningBox\"}>\n                    <h2>All Plays</h2>\n                    <ul>\n                        {players.map((player, index) => <li key={index}>{player.name}: {player.cards[player.power]}</li>)}\n                    </ul>\n                    <h2>Scoreboard</h2>\n                    <ul>\n                        {players.map((player, index) => <li key={index}>{player.name}: {player.score}</li>)}\n                    </ul>\n                    <h2>The game has ended. Here are the winners!</h2>\n                    <ul>\n                        {winners.map((winner, index) => <li key={index}>{winner}</li>)}\n                    </ul>\n                    <h1>Please refresh to go back to the homepage. </h1>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Game;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}